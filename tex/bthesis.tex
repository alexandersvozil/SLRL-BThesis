% Author: Alexander Svozil
% Matr.-nr.: 1026213
% TU Wien
\documentclass [12pt]{article}
\usepackage [utf8]{inputenc}
\usepackage {graphicx}


\begin{document}
\author{Alexander Svozil}
\title{Bachelor Thesis \\ The Server Location Problem with Restricted Loads 
on Servers and Links}

\maketitle

\section{Abstract}
The server location problem with restricted loads on servers and links (SLRL) is an NP-Complete
problem, introduced by Hiroyoshi Miwa et al. in the Paper "Method of Locating Mirror Servers
to Alleviate Load on Servers and Links" \cite{mirrorserver}. The problem 
came up, because the massive volume of data distributed by content delivery networks (CDNs) 
require well located mirror servers in order not to badly influence the quality of their service.
Two examples for CDNs would be "Amazon CloudFront" a traditional commercial CDN, or the "AT\&T Inc."
a Telco CDN which has advantages over traditional CDNs because they own the so called "last mile",
the final leg of the telecommunications networks. CDN nodes are usually deployed in multiple 
locations, often over multiple backbones, reaching thousands of nodes with tens of thousands of 
servers. \cite{wiki:cdn} \cite{wiki:lastmile}
The two constraints induced by the choice of mirror servers is the number of maximum nodes
accessing a mirror server and maximum number of nodes accessing a mirror server 
through a specific link. The constraint mentioned first, corresponds to the network load on
the (mirror-)servers. The second constraint corresponds to the restricted load on the links.
First I want to prove that SLRL is NP-complete. Next, I want to propose my own algorithm as a
sequel to the existing greedy algorithm proposed by Miwa et al. \cite{mirrorserver}.


\tableofcontents

\section{Introduction}
    \subsection {CDNs}
        "A content delivery network is a collaborative collection of network elements spanning
        the Internet, where content is replicated over several mirrored Web servers in order
        to perform transparent and effective delivery of content to the end user."\cite[p. 3]{Buyya:2008:CDN:1457653}
        To perform efficient delivery of data, CDNs need to have several mirrored Web servers
        and thus it is important to place them well, because placing the mirror server 
        could be an expensive choice considering no prior calculation where it should go. 
        The expensive choice manifests in high link usages and or a maximal neighbourhood being
        too big for the server to handle.
        The mirror servers naturally serve the same data, as they are there to alleviate the 
        load of the other servers providing the data.
        
    \subsection {Similar Problems}
    A lot of thought has already been put into the server location problem.
    Two problems that describe this problem would be the p-center and the
    p-median problem. The purpose of these problems is mainly to shorten delay
    time from the client to the server. 
    %%NA-Edge connectivity fehlt:
    \subsubsection {P-Center Problem}
    "The p-Center problem consists of locating p facilities and assigning clients
    to them in order to minimize the maximum distance between a client and the facility
    to which he or she is allocated. It is used for example in locating fire stations or ambulances,
    where the distance from the facilities 
    to their farthest assigned potential client should be minimum."\cite{Mladenovic00solvingthe}
    The p-center problem is one of the best known NP-hard discrete location problems.\cite{KarivHakimi1979}
    For large instances, it is impractical to solve the problem exactly.
    There have been very good results with the tabu-search and variable neighborhood search.
    \cite{Mladenovic00solvingthe}
    \subsubsection {P-Median Problem}
    
    \subsubsection {NA (Node to Area)-connectivity}
    \subsection{Open Shortest Path First}
\section{Server Location Problem with Restricted Loads on Servers and Links}
\subsection{Formal Definition}
\subsubsection{Neighbour Set}
    The neighbour set is the set, that belongs to a server. In our problem, it is
    defined as follows: If the node has a shortest path to a server node, he 
    belongs to this server nodes neighbour set. If the node has several shortest
    paths to multiple server nodes, it will belong to all of those server nodes neighbour
    set. The server itself will belong to its own neighbour sets.
    \subsubsection{Load on a Link, m(e) or multiplicity of an edge}
    The load on a link is defined as follows: 
    It is defined as the number of shortest paths, that cross a link. If there
    are several shortest paths with the same length to one or more servers from a vertice every
    used edge is taken into account. This is done, because we must always consider
    the worst case when locating a server.
    \subsubsection{The Problem}
\textbf{Given:}
{\itshape Undirected graph G(V,E) and  positive integers k,r and c. \\
$k = \|S\|$, where S is the set of servers $S = \{s_1,s_2,\dots s_k\} \subseteq V$\\
r $\geq  \|V_i\|$ $(i=1,2,\dots,k)$ where $V_i$ is the neighbour set of $s_i$ $(i=1,2,\dots,k)$\\
$c \geq m(e)$, where m(e) is the maximum load $\forall e \in E$.} \\
\\
\textbf{Wanted:} 
{\itshape A set of Servers $S = \{s_1, s_2,\dots, s_k \} \subseteq V$ such that $|V_i|\leq r$
    $(i = 1,2, \dots,k)$ where $V_i$ is the neighbour set of $s_i$  $(i = 1,2,\dots,k)$ and that
$m(e) \leq c$ $(\forall e \in E)$.}

\subsection{An Instance Of The Problem}
\indent
\indent
\indent

\includegraphics [scale=0.23]{cableandwireless1.png}\\
The above shown graph is from the barebone network "Cable and Wireless".
It is parsed out of a dataset of barebone networks provided by caida.\cite{caidabarebones}
\\
The nodes have two values in their bubbles: "NH and m(e)". NH stands for 
the maximum neighbourhood if that node was chosen as a server. Choosing the first
server obviously implicates the maximum neighbourhood, because there are
no mirror servers yet on the graph.\\
The multiplicity of an edge e, $m(e)$ is explained above. The number after
$m(e)$ in the bubble describes $max(m(e))$ $ \forall e \in E$,
if one decides to take this node as a server.
The greedy algorithm takes the node with the lowest $max(m(e))$ first.
\\
\includegraphics [scale=0.23]{cableandwireless2.png}\\
This graph shows the second server pick. This time our $m(e)$ is already low enough
to suffice the constraint $m(e)\leq c $ thus the greedy algorithm proposed in the paper 
by Miwa et al. \cite{mirrorserver} chooses the node with the lowest max neighbourhood which is
coincidentally also the one with the lowest $m(e)$.


\subsection{Proof of NP-Completeness}
\section{Algorithm}
    \subsection{Rules and Assumptions}
    \subsection{Other Algorithms}
    The only prior algorithm for this problem is the greedy algorithm proposed by
    Miwa et al. \cite{mirrorserver}. It greedily chooses the node with the 
    lowest maximal neighbourhood if the constraint $c\geq m(e) (\forall e \in E)$ is fulfilled. 
    Otherwise it will choose a node where $min(m(e)(\forall e \in E))$ is true.
    
    \subsection{Data (Testinstances)}
    The data taken for the tests is from caida \cite{caidabarebones}. Parsing the
    data was one of the most difficult parts, because the data is not formatted well.
    It does not really follow the syntax proposed in the beginning of the file. I also
    modified the data in some concerns:
    \begin{itemize}
        \item If the graph G given for the barebone network was not connected,
            the connected component with less nodes of that graph is cut out.
            
        \item Normally the connected cities are listed in this manner:
            "city,state,country", in order to match with the numbers 
            in the paper \cite{mirrorserver} only city and state are used for
            identification and the country is left out. Sometimes London
            is used on one hand as City in Canada and on the other hand in GB, denoted like this
            London, *, Canada and London, *, England. They are differentiated.
        \item Sometimes the State has a number. One example would be "Kansas City, KS2~"
            This is interpreted as "Kansas City, KS".

    \end{itemize}

        All those modifications were done to match the graphs proposed by \cite{mirrorserver}.
        As I did not have the data of the other paper used, I tried to match them with the number of
        nodes and number of vertices. Unfortunately three instances of my instances do not
        match the number of nodes and / or vertices proposed from the paper above.
        The varying instances are: "Sprint", "Cable and Wireless" and "UUNet".
         
    \subsection{Implementation}
\section{Conclusion}

\bibliography{bibtex}
\bibliographystyle{alpha}
\end{document}
